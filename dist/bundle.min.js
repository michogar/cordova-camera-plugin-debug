!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){if(n(this,e),!(navigator.camera||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia))throw new Error("No Media devices available!!")}return i(e,null,[{key:"getEncodingType",value:function(e){var t=["image/jpeg","image/png"],n=t[e];if(!n)throw new Error("Not encoding allowed");return n}}]),i(e,[{key:"showCamera",value:function(){var e=this;return new Promise(function(t,n){navigator.mediaDevices.getUserMedia({video:!0}).then(function(n){return document.getElementById("video")?(e.video=document.getElementById("video"),e.snap=document.getElementById("snap"),e.canvas=document.getElementById("canvas"),void t()):(e.video=document.createElement("video"),e.video.setAttribute("id","video"),e.video.setAttribute("width","640"),e.video.setAttribute("height","480"),e.video.setAttribute("autoplay",!0),e.snap=document.createElement("button"),e.snap.setAttribute("id","snap"),e.snap.appendChild(document.createTextNode("Snap Photo")),e.canvas=document.createElement("canvas"),e.canvas.setAttribute("id","canvas"),e.canvas.setAttribute("width","640"),e.canvas.setAttribute("height","480"),document.body.appendChild(e.video),document.body.appendChild(e.snap),document.body.appendChild(e.canvas),e.video.src=window.URL.createObjectURL(n),e.video.play(),void t())}).catch(function(t){e.removeCamera(),n(t)})})}},{key:"removeCamera",value:function(){this.video.pause(),document.body.removeChild(this.video),document.body.removeChild(this.snap),document.body.removeChild(this.canvas)}},{key:"getPictureFromCamera",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.destinationType,o=void 0===i?e.DestinationType.DATA_URL:i,a=n.encodingType,r=void 0===a?e.EncodingType.JPEG:a,d=n.quality,c=void 0===d?50:d;return new Promise(function(n,i){var a=t.canvas.getContext("2d");a.drawImage(t.video,0,0,640,480);var d=e.getEncodingType(r);o===e.DestinationType.FILE_URI?t.canvas.toBlob(function(e){var t=window.URL||window.webkitURL;n(t.createObjectURL(e))},d,c/100):o===e.DestinationType.DATA_URL?n(t.canvas.toDataURL(d)):i(new Error("No image!!"))})}},{key:"getPicture",value:function(t,n){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.sourceType,r=void 0===a?e.PictureSourceType.CAMERA:a,d=o.destinationType,c=void 0===d?e.DestinationType.DATA_URL:d,u=o.encodingType,v=void 0===u?e.EncodingType.JPEG:u,s=o.quality,p=void 0===s?50:s;r===e.PictureSourceType.CAMERA&&this.showCamera().then(function(){i.snap.addEventListener("click",function(){i.getPictureFromCamera({destinationType:c,encodingType:v,quality:p}).then(function(e){t(e)}).catch(n)})}).catch(n)}}]),e}();o.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},o.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},o.EncodingType={JPEG:0,PNG:1},t.default=o}]);
//# sourceMappingURL=bundle.min.js.map