{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 94e560209886373c59e6","webpack:///./src/index.js"],"names":["Camera","encodingType","privateEncoding","encoding","Error","navigator","camera","mediaDevices","getUserMedia","Promise","resolve","reject","video","then","stream","document","getElementById","snap","canvas","createElement","setAttribute","appendChild","createTextNode","body","src","window","URL","createObjectURL","play","catch","err","removeCamera","pause","removeChild","destinationType","DestinationType","DATA_URL","EncodingType","JPEG","quality","context","getContext","drawImage","getEncodingType","FILE_URI","toBlob","blob","webkitURL","toDataURL","successCallback","errorCallback","sourceType","PictureSourceType","CAMERA","showCamera","addEventListener","getPictureFromCamera","picture","PHOTOLIBRARY","SAVEDPHOTOALBUM","NATIVE_URI","PNG"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cordova-camera-plugin-debug\"] = factory();\n\telse\n\t\troot[\"cordova-camera-plugin-debug\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 94e560209886373c59e6","/**\n * Created by michogarcia on 29/12/16.\n */\n\nclass Camera {\n\n  static PictureSourceType = {\n    PHOTOLIBRARY: 0,\n    CAMERA: 1,\n    SAVEDPHOTOALBUM: 2\n  }\n\n  static DestinationType = {\n    DATA_URL: 0,\n    FILE_URI: 1,\n    NATIVE_URI: 2\n  }\n\n  static EncodingType = {\n    JPEG: 0,\n    PNG: 1\n  }\n\n  static getEncodingType(encodingType) {\n    const privateEncoding = [\n      'image/jpeg',\n      'image/png'\n    ]\n    const encoding = privateEncoding[encodingType]\n    if (!encoding) {\n      throw new Error('Not encoding allowed')\n    }\n    return encoding\n  }\n\n  constructor() {\n    if (!navigator.camera) {\n      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        throw new Error('No Media devices available!!')\n      } else {\n        navigator.camera = this\n      }\n    }\n  }\n\n  showCamera() {\n    return new Promise((resolve, reject) => {\n      navigator.mediaDevices.getUserMedia({ video: true }).then((stream) => {\n        if (document.getElementById('video')) {\n          this.video = document.getElementById('video')\n          this.snap = document.getElementById('snap')\n          this.canvas = document.getElementById('canvas')\n          resolve()\n          return\n        }\n        this.video = document.createElement('video')\n        this.video.setAttribute('id', 'video')\n        this.video.setAttribute('width', '640')\n        this.video.setAttribute('height', '480')\n        this.video.setAttribute('autoplay', true)\n\n        this.snap = document.createElement('button')\n        this.snap.setAttribute('id', 'snap')\n        this.snap.appendChild(document.createTextNode('Snap Photo'))\n\n        this.canvas = document.createElement('canvas')\n        this.canvas.setAttribute('id', 'canvas')\n        this.canvas.setAttribute('width', '640')\n        this.canvas.setAttribute('height', '480')\n\n        document.body.appendChild(this.video)\n        document.body.appendChild(this.snap)\n        document.body.appendChild(this.canvas)\n\n        this.video.src = window.URL.createObjectURL(stream)\n        this.video.play()\n        resolve()\n      }).catch((err) => {\n        this.removeCamera()\n        reject(err)\n      })\n    })\n  }\n\n  removeCamera() {\n    this.video.pause()\n    document.body.removeChild(this.video)\n    document.body.removeChild(this.snap)\n    document.body.removeChild(this.canvas)\n  }\n\n  getPictureFromCamera({ destinationType = Camera.DestinationType.DATA_URL,\n    encodingType = Camera.EncodingType.JPEG, quality = 50 } = {}) {\n    return new Promise((resolve, reject) => {\n      const context = this.canvas.getContext('2d')\n      context.drawImage(this.video, 0, 0, 640, 480)\n      const encoding = Camera.getEncodingType(encodingType)\n      if (destinationType === Camera.DestinationType.FILE_URI) {\n        this.canvas.toBlob((blob) => {\n          const URL = window.URL || window.webkitURL\n          resolve(URL.createObjectURL(blob))\n        }, encoding, quality / 100)\n      } else if (destinationType === Camera.DestinationType.DATA_URL) {\n        resolve(this.canvas.toDataURL(encoding))\n      } else {\n        reject(new Error('No image!!'))\n      }\n    })\n  }\n\n  getPicture(successCallback, errorCallback, { sourceType = Camera.PictureSourceType.CAMERA,\n    destinationType = Camera.DestinationType.DATA_URL, encodingType = Camera.EncodingType.JPEG,\n    quality = 50 } = {}) {\n    if (sourceType === Camera.PictureSourceType.CAMERA) {\n      this.showCamera().then(() => {\n        this.snap.addEventListener('click', () => {\n          this.getPictureFromCamera({ destinationType, encodingType, quality }).then((picture) => {\n            successCallback(picture)\n          }).catch(errorCallback)\n        })\n      }).catch(errorCallback)\n    }\n  }\n}\n\nexport default Camera\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}