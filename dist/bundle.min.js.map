{"version":3,"sources":["webpack:///bundle.min.js","webpack:///webpack/bootstrap 5aa86701da22eae9d4d0","webpack:///./src/index.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","Camera","this","navigator","camera","mediaDevices","getUserMedia","Error","encodingType","privateEncoding","encoding","_this","Promise","resolve","reject","video","then","stream","document","getElementById","snap","canvas","createElement","setAttribute","appendChild","createTextNode","body","src","window","URL","createObjectURL","play","catch","err","removeCamera","pause","removeChild","_this2","_ref","arguments","undefined","_ref$destinationType","destinationType","DestinationType","DATA_URL","_ref$encodingType","EncodingType","JPEG","_ref$quality","quality","context","getContext","drawImage","getEncodingType","FILE_URI","toBlob","blob","webkitURL","toDataURL","successCallback","errorCallback","_this3","_ref2","_ref2$sourceType","sourceType","PictureSourceType","CAMERA","_ref2$destinationType","_ref2$encodingType","_ref2$quality","showCamera","addEventListener","getPictureFromCamera","picture","PHOTOLIBRARY","SAVEDPHOTOALBUM","NATIVE_URI","PNG","default"],"mappings":"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","file":"bundle.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\n\t * Created by michogarcia on 29/12/16.\n\t */\n\t\n\tvar Camera = function () {\n\t  _createClass(Camera, null, [{\n\t    key: 'getEncodingType',\n\t    value: function getEncodingType(encodingType) {\n\t      var privateEncoding = ['image/jpeg', 'image/png'];\n\t      var encoding = privateEncoding[encodingType];\n\t      if (!encoding) {\n\t        throw new Error('Not encoding allowed');\n\t      }\n\t      return encoding;\n\t    }\n\t  }]);\n\t\n\t  function Camera() {\n\t    _classCallCheck(this, Camera);\n\t\n\t    if (!navigator.camera) {\n\t      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n\t        throw new Error('No Media devices available!!');\n\t      }\n\t    }\n\t  }\n\t\n\t  _createClass(Camera, [{\n\t    key: 'showCamera',\n\t    value: function showCamera() {\n\t      var _this = this;\n\t\n\t      return new Promise(function (resolve, reject) {\n\t        navigator.mediaDevices.getUserMedia({ video: true }).then(function (stream) {\n\t          if (document.getElementById('video')) {\n\t            _this.video = document.getElementById('video');\n\t            _this.snap = document.getElementById('snap');\n\t            _this.canvas = document.getElementById('canvas');\n\t            resolve();\n\t            return;\n\t          }\n\t          _this.video = document.createElement('video');\n\t          _this.video.setAttribute('id', 'video');\n\t          _this.video.setAttribute('width', '640');\n\t          _this.video.setAttribute('height', '480');\n\t          _this.video.setAttribute('autoplay', true);\n\t\n\t          _this.snap = document.createElement('button');\n\t          _this.snap.setAttribute('id', 'snap');\n\t          _this.snap.appendChild(document.createTextNode('Snap Photo'));\n\t\n\t          _this.canvas = document.createElement('canvas');\n\t          _this.canvas.setAttribute('id', 'canvas');\n\t          _this.canvas.setAttribute('width', '640');\n\t          _this.canvas.setAttribute('height', '480');\n\t\n\t          document.body.appendChild(_this.video);\n\t          document.body.appendChild(_this.snap);\n\t          document.body.appendChild(_this.canvas);\n\t\n\t          _this.video.src = window.URL.createObjectURL(stream);\n\t          _this.video.play();\n\t          resolve();\n\t        }).catch(function (err) {\n\t          _this.removeCamera();\n\t          reject(err);\n\t        });\n\t      });\n\t    }\n\t  }, {\n\t    key: 'removeCamera',\n\t    value: function removeCamera() {\n\t      this.video.pause();\n\t      document.body.removeChild(this.video);\n\t      document.body.removeChild(this.snap);\n\t      document.body.removeChild(this.canvas);\n\t    }\n\t  }, {\n\t    key: 'getPictureFromCamera',\n\t    value: function getPictureFromCamera() {\n\t      var _this2 = this;\n\t\n\t      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n\t          _ref$destinationType = _ref.destinationType,\n\t          destinationType = _ref$destinationType === undefined ? Camera.DestinationType.DATA_URL : _ref$destinationType,\n\t          _ref$encodingType = _ref.encodingType,\n\t          encodingType = _ref$encodingType === undefined ? Camera.EncodingType.JPEG : _ref$encodingType,\n\t          _ref$quality = _ref.quality,\n\t          quality = _ref$quality === undefined ? 50 : _ref$quality;\n\t\n\t      return new Promise(function (resolve, reject) {\n\t        var context = _this2.canvas.getContext('2d');\n\t        context.drawImage(_this2.video, 0, 0, 640, 480);\n\t        var encoding = Camera.getEncodingType(encodingType);\n\t        if (destinationType === Camera.DestinationType.FILE_URI) {\n\t          _this2.canvas.toBlob(function (blob) {\n\t            var URL = window.URL || window.webkitURL;\n\t            resolve(URL.createObjectURL(blob));\n\t          }, encoding, quality / 100);\n\t        } else if (destinationType === Camera.DestinationType.DATA_URL) {\n\t          resolve(_this2.canvas.toDataURL(encoding));\n\t        } else {\n\t          reject(new Error('No image!!'));\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'getPicture',\n\t    value: function getPicture(successCallback, errorCallback) {\n\t      var _this3 = this;\n\t\n\t      var _ref2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n\t          _ref2$sourceType = _ref2.sourceType,\n\t          sourceType = _ref2$sourceType === undefined ? Camera.PictureSourceType.CAMERA : _ref2$sourceType,\n\t          _ref2$destinationType = _ref2.destinationType,\n\t          destinationType = _ref2$destinationType === undefined ? Camera.DestinationType.DATA_URL : _ref2$destinationType,\n\t          _ref2$encodingType = _ref2.encodingType,\n\t          encodingType = _ref2$encodingType === undefined ? Camera.EncodingType.JPEG : _ref2$encodingType,\n\t          _ref2$quality = _ref2.quality,\n\t          quality = _ref2$quality === undefined ? 50 : _ref2$quality;\n\t\n\t      if (sourceType === Camera.PictureSourceType.CAMERA) {\n\t        this.showCamera().then(function () {\n\t          _this3.snap.addEventListener('click', function () {\n\t            _this3.getPictureFromCamera({ destinationType: destinationType, encodingType: encodingType, quality: quality }).then(function (picture) {\n\t              successCallback(picture);\n\t            }).catch(errorCallback);\n\t          });\n\t        }).catch(errorCallback);\n\t      }\n\t    }\n\t  }]);\n\t\n\t  return Camera;\n\t}();\n\t\n\tCamera.PictureSourceType = {\n\t  PHOTOLIBRARY: 0,\n\t  CAMERA: 1,\n\t  SAVEDPHOTOALBUM: 2\n\t};\n\tCamera.DestinationType = {\n\t  DATA_URL: 0,\n\t  FILE_URI: 1,\n\t  NATIVE_URI: 2\n\t};\n\tCamera.EncodingType = {\n\t  JPEG: 0,\n\t  PNG: 1\n\t};\n\texports.default = Camera;\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// bundle.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5aa86701da22eae9d4d0","/**\n * Created by michogarcia on 29/12/16.\n */\n\nclass Camera {\n\n  static PictureSourceType = {\n    PHOTOLIBRARY: 0,\n    CAMERA: 1,\n    SAVEDPHOTOALBUM: 2\n  }\n\n  static DestinationType = {\n    DATA_URL: 0,\n    FILE_URI: 1,\n    NATIVE_URI: 2\n  }\n\n  static EncodingType = {\n    JPEG: 0,\n    PNG: 1\n  }\n\n  static getEncodingType(encodingType) {\n    const privateEncoding = [\n      'image/jpeg',\n      'image/png'\n    ]\n    const encoding = privateEncoding[encodingType]\n    if (!encoding) {\n      throw new Error('Not encoding allowed')\n    }\n    return encoding\n  }\n\n  constructor() {\n    if (!navigator.camera) {\n      if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n        throw new Error('No Media devices available!!')\n      }\n    }\n  }\n\n  showCamera() {\n    return new Promise((resolve, reject) => {\n      navigator.mediaDevices.getUserMedia({ video: true }).then((stream) => {\n        if (document.getElementById('video')) {\n          this.video = document.getElementById('video')\n          this.snap = document.getElementById('snap')\n          this.canvas = document.getElementById('canvas')\n          resolve()\n          return\n        }\n        this.video = document.createElement('video')\n        this.video.setAttribute('id', 'video')\n        this.video.setAttribute('width', '640')\n        this.video.setAttribute('height', '480')\n        this.video.setAttribute('autoplay', true)\n\n        this.snap = document.createElement('button')\n        this.snap.setAttribute('id', 'snap')\n        this.snap.appendChild(document.createTextNode('Snap Photo'))\n\n        this.canvas = document.createElement('canvas')\n        this.canvas.setAttribute('id', 'canvas')\n        this.canvas.setAttribute('width', '640')\n        this.canvas.setAttribute('height', '480')\n\n        document.body.appendChild(this.video)\n        document.body.appendChild(this.snap)\n        document.body.appendChild(this.canvas)\n\n        this.video.src = window.URL.createObjectURL(stream)\n        this.video.play()\n        resolve()\n      }).catch((err) => {\n        this.removeCamera()\n        reject(err)\n      })\n    })\n  }\n\n  removeCamera() {\n    this.video.pause()\n    document.body.removeChild(this.video)\n    document.body.removeChild(this.snap)\n    document.body.removeChild(this.canvas)\n  }\n\n  getPictureFromCamera({ destinationType = Camera.DestinationType.DATA_URL,\n    encodingType = Camera.EncodingType.JPEG, quality = 50 } = {}) {\n    return new Promise((resolve, reject) => {\n      const context = this.canvas.getContext('2d')\n      context.drawImage(this.video, 0, 0, 640, 480)\n      const encoding = Camera.getEncodingType(encodingType)\n      if (destinationType === Camera.DestinationType.FILE_URI) {\n        this.canvas.toBlob((blob) => {\n          const URL = window.URL || window.webkitURL\n          resolve(URL.createObjectURL(blob))\n        }, encoding, quality / 100)\n      } else if (destinationType === Camera.DestinationType.DATA_URL) {\n        resolve(this.canvas.toDataURL(encoding))\n      } else {\n        reject(new Error('No image!!'))\n      }\n    })\n  }\n\n  getPicture(successCallback, errorCallback, { sourceType = Camera.PictureSourceType.CAMERA,\n    destinationType = Camera.DestinationType.DATA_URL, encodingType = Camera.EncodingType.JPEG,\n    quality = 50 } = {}) {\n    if (sourceType === Camera.PictureSourceType.CAMERA) {\n      this.showCamera().then(() => {\n        this.snap.addEventListener('click', () => {\n          this.getPictureFromCamera({ destinationType, encodingType, quality }).then((picture) => {\n            successCallback(picture)\n          }).catch(errorCallback)\n        })\n      }).catch(errorCallback)\n    }\n  }\n}\n\nexport default Camera\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}