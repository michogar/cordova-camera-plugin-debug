!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["cordova-camera-plugin-debug"]=t():e["cordova-camera-plugin-debug"]=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(1)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=function(){function e(){if(n(this,e),!navigator.camera){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("No Media devices available!!");navigator.camera=this}}return o(e,null,[{key:"getEncodingType",value:function(e){var t=["image/jpeg","image/png"],n=t[e];if(!n)throw new Error("Not encoding allowed");return n}}]),o(e,[{key:"showCamera",value:function(){var e=this;return new Promise(function(t,n){navigator.mediaDevices.getUserMedia({video:!0}).then(function(n){return document.getElementById("video")?(e.video=document.getElementById("video"),e.snap=document.getElementById("snap"),e.canvas=document.getElementById("canvas"),void t()):(e.video=document.createElement("video"),e.video.setAttribute("id","video"),e.video.setAttribute("width","640"),e.video.setAttribute("height","480"),e.video.setAttribute("autoplay",!0),e.snap=document.createElement("button"),e.snap.setAttribute("id","snap"),e.snap.appendChild(document.createTextNode("Snap Photo")),e.canvas=document.createElement("canvas"),e.canvas.setAttribute("id","canvas"),e.canvas.setAttribute("width","640"),e.canvas.setAttribute("height","480"),document.body.appendChild(e.video),document.body.appendChild(e.snap),document.body.appendChild(e.canvas),e.video.src=window.URL.createObjectURL(n),e.video.play(),void t())}).catch(function(t){e.removeCamera(),n(t)})})}},{key:"removeCamera",value:function(){this.video.pause(),document.body.removeChild(this.video),document.body.removeChild(this.snap),document.body.removeChild(this.canvas)}},{key:"getPictureFromCamera",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=n.destinationType,i=void 0===o?e.DestinationType.DATA_URL:o,a=n.encodingType,r=void 0===a?e.EncodingType.JPEG:a,d=n.quality,c=void 0===d?50:d;return new Promise(function(n,o){var a=t.canvas.getContext("2d");a.drawImage(t.video,0,0,640,480);var d=e.getEncodingType(r);i===e.DestinationType.FILE_URI?t.canvas.toBlob(function(e){var t=window.URL||window.webkitURL;n(t.createObjectURL(e))},d,c/100):i===e.DestinationType.DATA_URL?n(t.canvas.toDataURL(d)):o(new Error("No image!!"))})}},{key:"getPicture",value:function(t,n){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.sourceType,r=void 0===a?e.PictureSourceType.CAMERA:a,d=i.destinationType,c=void 0===d?e.DestinationType.DATA_URL:d,u=i.encodingType,s=void 0===u?e.EncodingType.JPEG:u,v=i.quality,p=void 0===v?50:v;r===e.PictureSourceType.CAMERA&&this.showCamera().then(function(){o.snap.addEventListener("click",function(){o.getPictureFromCamera({destinationType:c,encodingType:s,quality:p}).then(function(e){t(e)}).catch(n)})}).catch(n)}}]),e}();i.PictureSourceType={PHOTOLIBRARY:0,CAMERA:1,SAVEDPHOTOALBUM:2},i.DestinationType={DATA_URL:0,FILE_URI:1,NATIVE_URI:2},i.EncodingType={JPEG:0,PNG:1},t.default=i}])});
//# sourceMappingURL=bundle.min.js.map